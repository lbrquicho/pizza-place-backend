# Pizza Place Backend API

This backend API for the Pizza Place app is built with ASP.NET Core Web API and Entity Framework Core, connecting to a SQL Server database.

---

## Getting Started

### Prerequisites

- [.NET SDK](https://dotnet.microsoft.com/en-us/download) (recommended version 6 or later)  
- SQL Server with the `PizzaPlace` database and tables  
- Visual Studio Code or Visual Studio IDE  

---

### Setup Instructions

1. **Clone the repository**

   ```bash
   git clone https://github.com/lbrquicho/pizza-place-backend.git
   cd pizza-place-backend

2. **Configure the database connection**
- Edit appsettings.json and update the connection string:
  ```bash
  "ConnectionStrings": {
    "PizzaPlaceConnection": "Server=DESKTOP-LUC\\SQLEXPRESS;Database=PizzaPlace;Trusted_Connection=True;Encrypt=False;TrustServerCertificate=True;"
}

3. **Entity Framework Core setup**

The database models and DbContext were generated using EF Core reverse engineering (scaffolding) from the existing database tables.
 ```bash
dotnet ef dbcontext scaffold "<connection-string>" Microsoft.EntityFrameworkCore.SqlServer -o Models
```

## How This Project Works
- Models: Generated by reverse engineering your database schema using Entity Framework Core scaffolding.

- DbContext: PizzaPlaceContext manages database connections and sets.

- DTOs: Data Transfer Objects used for API input/output abstraction.

- Controllers: Expose API endpoints for orders, pizzas, and related operations.

Key Configuration in Program.cs
Registers the database context:
```bash
builder.Services.AddDbContext<PizzaPlaceContext>(options =>
    options.UseSqlServer(builder.Configuration.GetConnectionString("PizzaPlaceConnection")));
```
Enables CORS to allow requests from the Angular frontend:

```bash
builder.Services.AddCors(options =>
{
    options.AddPolicy("AllowAngularApp", policy =>
    {
        policy.WithOrigins("http://localhost:4200")
              .AllowAnyHeader()
              .AllowAnyMethod();
    });
});
```
Applies the CORS policy:

```bash
app.UseCors("AllowAngularApp");
```
